# Booking App Frontend

Фронтенд-приложение для онлайн-бронирования услуг мастеров. Разработано с использованием React и следуя принципам Clean Architecture.

## Структура проекта

Проект организован согласно принципам Clean Architecture для обеспечения лучшей масштабируемости и поддержки кода:

```
src/
├── api/                # API слой для коммуникации с бэкендом
│   ├── apiConfig.js    # Базовая конфигурация API (URL, общие методы)
│   ├── masterApi.js    # API для работы с мастерами
│   ├── bookingApi.js   # API для работы с бронированиями
│   ├── servicesApi.js  # API для работы с услугами
│   └── clientApi.js    # API для работы с клиентами
│
├── components/         # UI компоненты приложения
│   ├── ui/             # Переиспользуемые UI компоненты
│   │   ├── Toast/      # Компонент уведомлений
│   │   └── ...
│   └── pages/          # Страницы приложения
│       ├── MasterProfilePage.jsx
│       ├── RegisterPage.jsx
│       ├── ClientBookingPage.jsx
│       └── ...
│
├── contexts/           # React контексты
│   └── ToastContext.jsx  # Контекст для уведомлений
│
├── hooks/              # Кастомные React хуки
│   ├── useMasterData.js # Хук для работы с данными мастера
│   ├── useAppointments.js # Хук для работы с записями
│   ├── useClientData.js # Хук для работы с данными клиента
│   ├── useServices.js  # Хук для работы с услугами
│   └── ...
│
├── services/           # Бизнес-логика приложения
│   └── ...
│
├── utils/              # Утилиты и хелперы
│   ├── dateUtils.js    # Утилиты для работы с датами
│   └── ...
│
├── App.jsx             # Основной компонент приложения
└── index.js            # Точка входа
```

## Основные функциональные возможности

1. **Профиль мастера**
   - Просмотр и редактирование информации о мастере
   - Управление графиком работы
   - Управление услугами

2. **Бронирование клиентов**
   - Выбор услуги из списка доступных
   - Выбор времени для бронирования
   - Просмотр истории бронирований
   - Отмена или изменение бронирований

3. **Регистрация**
   - Регистрация новых мастеров
   - Форма для заполнения основной информации

## Технический стек

- **React** - фреймворк для UI
- **React Router** - маршрутизация
- **Axios** - HTTP клиент
- **date-fns** - работа с датами

## Установка и запуск проекта

1. Клонировать репозиторий
```bash
git clone https://github.com/your-username/booking-app-frontend.git
cd booking-app-frontend
```

2. Установить зависимости
```bash
npm install
```

3. Создать файл `.env` в корневой директории проекта со следующим содержимым:
```
REACT_APP_API_BASE=http://localhost:3000/api
```

4. Запустить приложение в режиме разработки
```bash
npm start
```

5. Приложение будет доступно по адресу [http://localhost:3000](http://localhost:3000)

## Разработка

### Добавление новой страницы
1. Создайте новый файл в `src/components/pages/`
2. При необходимости создайте UI компоненты в `src/components/ui/`
3. Создайте необходимые API методы в соответствующем API файле
4. Создайте кастомные хуки для работы с данными
5. Добавьте маршрут в `App.jsx`

### Стиль кода
- Используйте функциональные компоненты
- Используйте React хуки для управления состоянием
- Придерживайтесь принципа единой ответственности для компонентов
- Выносите бизнес-логику в хуки и сервисы
- Используйте контексты для глобального состояния

## Тестирование

### `npm test`

Запускает средство запуска тестов в интерактивном режиме наблюдения.

### Тестирование кастомных бронирований (устаревшее)

Для тестирования удаления и редактирования кастомных бронирований можно использовать консольные вызовы API.

```javascript
// Импортируем API из нового слоя
import bookingApi from './api/bookingApi';

// Создать новое бронирование
bookingApi.createBooking({
  masterId: "идентификатор_мастера",
  clientId: "идентификатор_клиента",
  serviceId: "идентификатор_услуги",
  startTime: "2023-11-30T15:00:00.000Z",
  comments: "Комментарий к бронированию"
});

// Обновить бронирование
bookingApi.updateBooking("идентификатор_бронирования", {
  startTime: "2023-11-30T16:00:00.000Z",
  comments: "Обновленный комментарий"
});

// Удалить бронирование
bookingApi.deleteBooking("идентификатор_бронирования");
```

## Сборка для продакшена

### `npm run build`

Собирает приложение для производства в папку `build`.
Он правильно связывает React в производственном режиме и оптимизирует сборку для достижения наилучшей производительности.

Сборка минимизируется, а имена файлов включают хеши.
Ваше приложение готово к развертыванию!

## Авторы
- Team Name

## Лицензия
MIT

### Deployment

This section has moved here: [https://facebook.github.io/create-react-app/docs/deployment](https://facebook.github.io/create-react-app/docs/deployment)

### `npm run build` fails to minify

This section has moved here: [https://facebook.github.io/create-react-app/docs/troubleshooting#npm-run-build-fails-to-minify](https://facebook.github.io/create-react-app/docs/troubleshooting#npm-run-build-fails-to-minify)
